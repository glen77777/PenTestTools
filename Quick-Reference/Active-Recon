>HOST RESOLUTION:
YOU CAN USE 
host www.website.com
TO RESOLVE A HOSTNAME TO IT'S IP ADDRESS, YOU CAN ALSO USE
host -t
TO DETERMINE A TYPE OF RECORD TO RESOLVE, I.E.
host -t mx website.com
FOR MAIL RECORDS, OR
host -t txt website.com
FOR DESCRIPTIVE TEXT RECORDS, OR
mail.website.com
TO SPECIFICALLY QUERY A SUBDOMAIN FOR LOOKUP
FORWARD LOOKUP BRUTE FORCE:
YOU CAN ALSO UE A BIT OF BASH SCRIPTING TO AUTOMATE LOOKUPS, I.E.
1. MAKE A list.txt FILE:
www
ftp
mail
drive
owa
router
proxy
admin
2. WRITE A BASH SCRIPT THAT DENOTES EACH LINE AS A VARIABLE AND RUNS THE LOOKUP
for ip in $(cat list.txt); do host $ip.website.com; done
OR IF THEY ALL APPEAR TO BE IN A SPECIFIC IP BLOCK FOR EXAMPLE 10.1.1.1-100 YOU MAY WANT TO TRY
for ip in $(seq 1 100); do host 10.1.1.$ip; done | grep -v "not found"

>DNS ZONE TRANSFERS:

IF WE ARE ABLE TO LOCATE ANY NAMESERVERS, IT WOULD BE BEST TO TRY TO PERFORM A ZONE TRANSFER, AS TO LEARN A CONSIDERABLE AMOUNT ABOUT 
THE LAYOUT OF THE NETWORK HEIRARCHY, TO DO SO WE CAN USE THE HOST TOOL AS WELL
host -l website.com nameserver.website.com
IF WE ARE HAVING TROUBLE LOCATING NAME SERVERS ALWAY REMEMBER TO CHECK FOR THAT SPECIFIC RECORD TYPE I.E.
host -t ns website.com

DNSRECON:
YOU CAN ALSO USE DNSRECON TO ATTEMPT A ZONETRANSFER BY RUNNING 
dnsrecon -d megacorpone.com -t axfr
OR TO USE THE LIST FROM EARLIER TO PERFORM FORWARD BRUTES
dnsrecon -d megacorpone.com -D ~/list.txt -t brt

DNSENUM:
DNSENUM ALSO DOES ZONETRANSFERS, TYPICAL USAGE WOULD BE
dnsenum website.com

>PORT SCANNING:
 NETCAT:
 TCP SCANNING
 nc -nvv -w 1 -z 10.1.1.1 1-5000
 -w SPECIFIES TIMEOUT, WHILE -z SPECIFIES ZERO I/O MODE TO AVOID TRYING TO CONNECT TO EACH PORT
 UDP SCANNING:
 nc -nv -u -z -w 1 10.1.1.1 1-5000
 -u DESIGNATES THE UDP PROTOCOL
 
 >ACCOUNTING FOR TRAFFIC:
 TO ACCOUNT FOR TRAFFIC GENERATED DOING SCANS YOU CAN USE
 sudo iptables -I INPUT 1 -s IP.ADD.HE.RE -j ACCEPT
 sudo iptables -I OUTPUT 1 -d IP.ADD.HE.RE -j ACCEPT
 TO MAKE A RULE TO TRACK THE BANDWIDTH USED TO AND FROM AN IP, AND
 sudo iptables -z 
 TO ZERO THE COUNTERS
 
 >NMAP:
 TO RUN A DEFAULT 1000 PORT SCAN USE 
 nmap ip.add.he.re
 TO RUN A SCAN OF ALL PORTS USE
 nmap -p 1-65535 IP.ADD.HE.RE
 TO RUN A STEALTH SCAN 
 sudo nmap -sS IPP.ADD.HE.RE
 TO RUN A TCP CONNECT SCAN
 nmap -sT IPP.ADD.HE.RE
 TO RUN A UDP SCAN
 sudo nmap -sU IPP.ADD.HE.RE
 TO RUN UDP IN CONJUNCTION WITH TCP SYN
 sudo nmap -sS -sU IP.ADD.HE.RE
 
 TO PERFORM A NETWORK SWEEP
 nmap -sn IP.ADD.HE.RE-RE (10.11.1.1-254)
 NETWORK SWEEP TO GREPPABLE OUTPUT
 nmap -v -sn 10.11.1.1-254 -oG netsweep.txt
 grep Up netsweep.txt | cut -d " " -f 2
 
 PERFORM NET SWEEP FOR WEB SERVERS
 nmap -p 80,443 10.1.1.1-254 -oG websweep.txt
 grep open websweep.txt | cut -d " " -f2
 
 TOP PORTS SCAN
 nmap -sT -A --top-ports=100 10.1.1.1-254 -oG topports.txt
 
 FINGERPRINTING
 sudo nmap -sV -sT -A -O 10.11.1.220
 
 NMAP SCRIPTING ENGINE
 FOR A LIST OF ALL AVAILABLE SCRIPTS CHECK 
 /usr/share/nmap/scripts
 TO USE THE SCRIPTS
 nmap IP.ADD.HE.RE --script=smb-os-discovery
 nmap --script=dns-zone-transfer -p 53 nameserver.website.com
 TO VIEW MORE INFORMATION ABOUT A SCRIPT
 nmap --script-help script-name-here
 
 >MASSCAN:
 SCAN A CLASS C SUBNET FOR PORT 80 OPEN
 sudo masscan -p80 10.1.1.0/8
 --rate DESIRED RATE OF TRANSMISSION
 -e DENOTE RAW NETWORK INTERFACE
 --router-ip DENOTE ADDRESS OF ROUTER/GATEWAY
 -p PORT
 I.E.
 sudo masscan -p80 10.1.1.0/24 --rate=1000 -e tap0 --router-ip 10.1.1.1
 
 >SMB ENUMERATION:
 SCAN FOR NETBIOS
 nmap -v -p 139,445 -oG smb.txt 10.1.1.1-254
 OR
 sudo nbtscan -r 10.1.1.0/24
 
 OR SEARCH FOR NMAP SCRIPTS RELEVANT TO SMB
 ls -l /usr/share/nmap/scripts/smb*
 
 SOME TO TRY ARE 
 nmap -v -p 139,445 --script=smb-os-discovery 10.1.1.1-254 (or grep a list for open on those ports)
 AND MAYBE SCAN FOR KNOWN SMB VULNS
 nmap -v -p 139,445 --script=smb-vuln-ms08-067 --script-args=unsafe=1 10.1.1.1-254
 
 >NFS ENUMERATION:
 SCAN FOR SHARES
 nmap -v -p 111 10.1.1.1-254
 CHECK FOR RPCBIND REGISTERS
 nmap -sV -p 111 --script=rpcinfo 10.11.1.1-254
 NMAP NFS SCRIPTS
 ls -l /usr/share/nmap/scripts/nfs*
 RUN NMAP NFS SCRIPTS
 nmap -p 111 --script nfs* 10.11.1.1-254
 
 IF SHOWMOUNT DETERMINES A FOLDER I.E. /home WE CAN MOUNT WITH
 mkdir home
 sudo mount -o nolock IP.ADD.HE.RE:/home ~/home/
 THEN CHANGE TO THE DIRECTORY AND INVESTIGATE
 cd home
 ls
 IF THERE IS A FOLDER OF INTEREST WE CAN IVESTIGATE IT, REMEMBER TO USE
 ls -la
 TO CHECK THE UID OF THE PERSON WITH ACCESS PRIVILEDGES, IF WE DO NOT HAVE ACCESS PRIVS WE MAY BE ABLE TO CREATE A USER
 sudo adduser spoof
 AND CHANGE THE UID TO MATCH, FOR ACCESS
 sudo sed -i -e 's/1001/1337(UID WE NEED TO MATCH)/g' /etc/passwd
 YOU CAN SU TO THE USER
 su spoof
 AND USE ID TO VERIFY THE CHANGE, THEN TRY ACCESSING THE FILE
 
 >SMTP ENUMERATION:
 IF YOU FIND A PORT 25 OPEN ON A MACHINE YOU CAN CONNECT WITH NETCAT
 nc -nv IP.ADD.HE.RE 25
 AND USE THE VRFY COMMAND TO CHECK IF A USER EXISTS
 VRFY root
 YOU CAN ALSO AUTOMATE THE CHECK USING PYTHON
 
 ---------------------------------------------------------------------
 
 #!/usr/bin/python
 
 import socket
 import sys
 
 if len(sys.argv) != 2:
       print "Usage: vrfy.py <username>"
       sys.exit(0)
       
 s = socket(socket.AF_INET, socket.SOCK_STREAM)
 
 connect = s.connect(('10.11.1.217',25))
 banner = s.recv(1024)
 
 print banner
 s.send('VRFY ' + sys.argv[1] + '\r\n')
 result = s.recv(1024)
 print result
 
 s.close()
 
 ------------------------------------------------------------------

OF COURSE YOU CAN USE BASH TO FEED THIS A LIST AS WE DID EARLIER AS WELL


>SNMP ENUMERATION:

SCANNING FOR SNMP 
sudo nmap -sU --open -p 161 10.1.1.1-254 -oG snmpfound.txt

OR WE CAN USE ONESIXTYONE
echo public > community
echo private >> community
echo manager >> community
for ip in $(seq 1 254); do echo 10.1.1.$ip; done ips
onesixtyone -c community -i ips

THEN USE SNMPWALK TO GATHER INFO ABOUT POSSIBLE WINS
ENTIRE TREE
snmpwalk -c public -v1 -t 10 IP.ADD.HE.RE
WINDOWS USERS
snmpwalk -c public -v1 IP.ADD.HE.RE 1.3.6.1.4.1.77.1.2.25
RUNNING WINDOWS PROCESSES
snmpwalk -c public -v1 IP.ADD.HE.RE 1.3.6.1.2.1.25.4.2.1.2
OPEN TCP PORTS
snmpwalk -c public -v1 IP.AD.HE.RE 1.3.6.1.2.1.6.13.1.3
INSTALLED SOFTWARE
snmpwalk -c public -v1 IP.ADD.HE.RE 1.3.6.1.2.1.25.6.3.1.2

>LDAP:

ldapsearch -H ldap://[IP]:[Port] -x -LLL -s base -b "" namingContexts

where:
-H ldap://[IP]:[Port] tells the program which host and what port to query
-x tells the program to use anon authentication
-LLL cuts away a lot of information that is not useful to us from the output.
-s base tells the program to set the scope to a base object, as we want to look at top-level information first.
-b "" defines the searchbase. An empty string means that we want to start at the very top, to get as much information as possible.
namingContexts applies a filter to the output, so that we only get a list of the naming Contexts (which is what we want here [see below], omit this part to receive more information)

search your list of naming contexts for useful information with the following command:
ldapsearch -H ldap://[IP]:[Port] -x -LLL -s sub -b "dc=active,dc=local"
By changing the searchbase to one of the naming Contexts and the scope to “sub”, we can get more detailed information

GRAB LDAPDOMAINDUMP FOR WHEN YOU HAVE SOME PRIVS,
ALSO GRAB winPEAS AND RUN IT ON EVERY USER YOU GET, AS WELL AS POWERSPLOIT, BLOODHOUND FOR VISUALIZING AD 

EVIL-WINRM IS YOUR FRIEND

>AD, KERB ENUMERATION:
GRAB IMPACKET, GRAB BLOODHOUND

FROM IMPACKET, secretsdump, getnpusers, and getuserspns are GOLDEN
